<!--
Copyright (c) 2018 Eai
Released under the MIT license.
-->
<script>
    document.title = "About more - PCGamer Social";
</script>
<div id="activity-embed">
</div>
<script>
    {
        // Config Begin.
        const domain = "pcgamer.social";
        const showDomain = false;
        // Config End.
        const activityEmbed = document.getElementById("activity-embed");
        const isLight = document.querySelectorAll(`link[rel="stylesheet"]`)[1].href.match(/light/);
        let theme;
        if (isLight) {
            theme = "light";
        } else {
            theme = "dark";
        }
        const html = `<iframe src="https://eai04191.github.io/Mastodon-Activity-Embed/embed.html?domain=${domain}&showDomain=${Number(showDomain)}&theme=${theme}" frameborder="0" scrolling="no"></iframe>`;
        activityEmbed.innerHTML = html;
    }
</script>
</div>
</div>
</div>

<style>
    .rich-formatting {
        line-height: 0;
        padding-right: 0;
    }

    #activity-embed iframe {
        width: 100%;
        height: 164px;
    }

    .column-fullwidth {
        grid-column: 1/3;
    }
</style>
<style>
    .qa *::before {
        position: absolute;
        top: 0;
        left: 0;
        font-size: 2em;
        filter: opacity(0.3);
        font-weight: 700;
    }

    .qa .question::before {
        content: "Q";
    }

    .qa .answer::before {
        content: "A";
    }

    .qa .question>*,
    .qa .answer>* {
        margin-left: 2.5em;
    }

    .qa .question p,
    .qa .answer p {
        margin-bottom: 5px;
    }

    .qa .question h3,
    .qa .answer h3 {
        margin-top: 20px;
    }

    .qa .question ul,
    .qa .answer ul {
        margin-bottom: 20px;
        margin-left: 4em;
    }

    .qa .question,
    .qa .answer {
        position: relative;
        margin-bottom: 12px;
    }

    .qa hr {
        height: 1px;
        border: 0;
        margin: 10px 0;
    }
</style>

<div class="column-fullwidth">
    <div class="box-widget">
        <div class="rich-formatting" style="line-height: 30px;" id="emoji-showcase">
            <style>
                #emoji-showcase a {
                    text-decoration: none;
                    cursor: pointer;
                }

                #emoji-showcase .invisible {
                    display: none;
                }

                #emoji-showcase .emoji-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }

                #emoji-showcase .emoji-container .emoji {
                    width: 5rem;
                    height: 5rem;
                    margin-right: 1em;
                    flex-shrink: 0;
                }

                #emoji-showcase .emoji-container .info {
                    display: flex;
                    flex-direction: column;
                }

                #emoji-showcase .emoji-container .info p {
                    margin: 0;
                }

                #emoji-showcase .emoji-container .info .name {
                    font-size: 1.8em;
                    font-weight: 500;
                    word-break: break-all;
                }

                #emoji-showcase .emoji-container .info .counter .emoji-index {
                    font-size: 1.5em;
                }

                #emoji-showcase .emoji-container .info .counter .separator {
                    margin: 0 0.5em;
                }

                #emoji-showcase .emoji-container .info .counter .emojis-count {
                    font-size: 1em;
                }

                #emoji-showcase #all-emoji-container {
                    display: grid;
                    grid-template-columns: 50% 50%;
                    margin-top: 3em;
                }

                #emoji-showcase #all-emoji-container .emoji-container {
                    justify-content: start;
                    margin-bottom: 1em;
                }

                #emoji-showcase #all-emoji-container .emoji-container .emoji {
                    width: 3rem;
                    height: 3rem;
                    margin-right: 0.7em;
                }

                #emoji-showcase #all-emoji-container .emoji-container .info .name {
                    font-size: 1.2em;
                }

                #emoji-showcase #all-emoji-container .emoji-container .info .counter .emoji-index {
                    font-size: 1em;
                }

                #emoji-showcase #all-emoji-container .emoji-container .info .counter .separator {
                    margin: 0 0.25em;
                }

                #emoji-showcase #all-emoji-container .emoji-container .info .counter .emojis-count {
                    font-size: 0.7em;
                }

                #emoji-showcase.dark .container .info .name {
                    color: #d9e1e8;
                }

                #emoji-showcase.light .container .info .name {
                    color: #282c37;
                }

                #emoji-showcase .fadeIn {
                    animation: fadeIn 0.5s ease 0s 1 normal;
                    -webkit-animation: fadeIn 0.5s ease 0s 1 normal;
                }

                @keyframes fadeIn {
                    0% {
                        opacity: 0;
                    }
                    100% {
                        opacity: 1;
                    }
                }
            </style>
            <h1>ランダム絵文字ショーケース</h1>
            <div class="emoji-container">
                <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="emoji">
                <div class="info">
                    <p><span class="name"></span></p>
                    <p class="counter">
                        <span class="emoji-index"></span>
                        <span class="separator">/</span>
                        <span class="emojis-count"></span>
                    </p>
                </div>
            </div>
            <p style="text-align: right;">
                <a id="see-all-emojis">全ての絵文字を見る...</a>
                <a id="close-all-emojis" class="invisible">全ての絵文字を閉じる</a>
            </p>
        </div>
        <script>
            {
                themeDetect();
                var domain = window.location.host;
                getEmojiList()
                    .then(data => loop(data))
                    .catch(error => console.error(error));

                function themeDetect() {
                    const isLight = document.querySelectorAll(`link[rel="stylesheet"]`)[1].href.match(/light/);
                    const elem = document.getElementById("emoji-showcase");
                    if (isLight) {
                        elem.classList.add("light");
                    } else {
                        elem.classList.add("dark");
                    }
                }

                function getEmojiList() {
                    return fetch(`https://${domain}/api/v1/custom_emojis`, {
                        method: "GET"
                    })
                        .then(response => response.json())
                        .catch(error => console.error(error));
                }

                function loop(obj) {
                    const random = getRandomEmoji(obj);
                    setEmoji(random.emoji, random.index, random.emojisCount);
                    setTimeout(function () { loop(obj) }, 5000);
                }

                function getRandomEmoji(obj) {
                    const emojisCount = Object.keys(obj).length;
                    const index = Math.floor(Math.random() * emojisCount);
                    const emoji = obj[index];
                    // console.log(emoji);
                    return { emoji, index, emojisCount };
                }

                function setEmoji(obj, num, max) {
                    const container_elem = document.querySelector("#emoji-showcase > .emoji-container");
                    const img_elem = document.querySelector("#emoji-showcase > .emoji-container img");
                    const name_elem = document.querySelector("#emoji-showcase > .emoji-container .name");
                    const num_elem = document.querySelector("#emoji-showcase > .emoji-container .counter .emoji-index");
                    const max_elem = document.querySelector(" #emoji-showcase > .emoji-container .counter .emojis-count");
                    img_elem.src = obj.url;
                    name_elem.innerText = `:${obj.shortcode}:`;
                    num_elem.innerText = (num + 1).toLocaleString();
                    max_elem.innerText = max.toLocaleString();
                    addFade(container_elem);
                }

                function addFade(elem) {
                    // .fadeInを追加する
                    elem.classList.add("fadeIn");
                    // クローンをつくる
                    const clone = elem.cloneNode(true);
                    // オリジナルの真下に入れる
                    elem.insertAdjacentElement("afterend", clone);
                    // 初めのfadeInを削除する
                    document.querySelectorAll(".fadeIn")[0].remove();
                }

                document.getElementById("see-all-emojis").addEventListener("click", function (event) {
                    function addEmoji(emoji, emojiIndex, emojisCount) {
                        let emojiContainer = document.getElementById("all-emoji-container");
                        if (!emojiContainer) {
                            const container = document.querySelector("#emoji-showcase > .emoji-container");
                            let emojiContainer = document.createElement('div');
                            container.insertAdjacentHTML("afterend", `<div id="all-emoji-container" class="fadeIn"></div>`);
                        }
                        emojiContainer = document.getElementById("all-emoji-container");
                        emojiContainer.insertAdjacentHTML("beforeend",
                            `<div class="emoji-container">
                            <img src="${emoji.url}" class="emoji">
                            <div class="info">
                                <p><span class="name">:${emoji.shortcode}:</span></p>
                                <p class="counter">
                                    <span class="emoji-index">${(Number(emojiIndex) + 1).toLocaleString()}</span >
                                    <span class="separator">/</span>
                                    <span class="emojis-count">${emojisCount.toLocaleString()}</span>
                                </p >
                            </div >
                        </div >`);
                    }
                    getEmojiList()
                        .then(function (emojis) {
                            const emojisCount = Object.keys(emojis).length;
                            Object.keys(emojis).forEach(function (emojiIndex) {
                                addEmoji(emojis[emojiIndex], emojiIndex, emojisCount);
                            });
                        })
                        .catch(error => console.error(error));
                    this.classList.add("invisible");
                    document.getElementById("close-all-emojis").classList.remove("invisible");
                }, false);

                document.getElementById("close-all-emojis").addEventListener("click", function (event) {
                    document.getElementById("all-emoji-container").remove();
                    this.classList.add("invisible");
                    document.getElementById("see-all-emojis").classList.remove("invisible");
                }, false);
            }
        </script>
    </div>
</div>


<div class="column-fullwidth">
    <div class="box-widget">
        <div class="rich-formatting" style="line-height: 30px;">

            <h1>PCGamer Socialへようこそ！</h1>

            <p>PCでゲームをする人たちがゆるく集うMastodonインスタンスです。</p>

            <hr class="spacer">

            <h2>追加予定の独自機能・設定</h2>

            <h3>Bot</h3>
            <ul>
                <li>
                    Steamゲームアイコン絵文字リクエストで自動追加機能
                </li>
            </ul>

            <hr class="spacer">

            <h2>追加済みの独自機能・設定</h2>

            <h3>プロフィール</h3>
            <ul>
                <li>表示名の最大文字数が30から
                    <em>50</em> に
                </li>
                <li>ユーザー名の最大文字数が30から
                    <em>50</em> に
                </li>
                <li>プロフィールの最大文字数が160から
                    <em>500</em> に
                </li>
                <li>
                    プロフィールのヘッダー画像のアスペクト比が自由
                </li>
            </ul>

            <h3>投稿</h3>
            <ul>
                <li>
                    4K解像度のスクリーンショットをリサイズ無しで共有
                </li>
            </ul>

            <hr class="spacer">

            <h2>カスタム絵文字の追加について</h2>

            <p>PCゲームに関連するソフトウェア・メーカー・プラットフォーム・ゲーム・その他のアイコンをカスタム絵文字として追加しています。</p>
            <p>現在1,000個追加を目標にしています。</p>
            <p>追加してほしい絵文字があれば
                <a href="https://pcgamer.social/@Eai">@Eai</a>までご連絡ください。
            </p>
            <!-- <p>
                256 x 256pxの画像を添えて申請してくれると大変助かります。ない場合は
                <a href="https://pcgamer.social/@Eai">@Eai</a>が頑張って作ります。
            </p>
            <p>絵文字の画像を作るお手伝いをしてくれる方も随時募集しています。</p> -->

            <hr class="spacer">

            <h2>Mastodonのアップデートについて</h2>

            <p>タグ付きリリースを出来るだけ早くマージします。基本的にmaster追従はしませんが、面白い更新の場合はするかもしれません。</p>

            <hr class="spacer">

            <h2>よくありそうな質問</h2>

            <p>ないかもしれない。</p>

            <div class="qa">
                <div class="question">
                    <p>
                        どんなことを話せばいいですか？
                    </p>
                </div>
                <div class="answer">
                    <p>
                        なにを話しても自由です！
                    </p>
                    <p>
                        管理者としてはFPS･TPS･RTS･ADV･RPG･洋ゲー･和ゲー･フリーゲーム･自作PC･デバイス･とかとかとか……そこら辺の話題を想定しています。
                    </p>
                </div>
                <div class="question">
                    <p>
                        最初にフォローしているアカウントはなんですか？
                    </p>
                </div>
                <div class="answer">
                    <p>
                        <a href="https://pcgamer.social/@PotatOS">@PotatOS</a>はこのインスタンスの更新情報に関する
                        <a href="https://pcgamer.social/@Eai">@Eai</a>のトゥートをBT（ブースト）するアカウントです。
                    </p>
                    <p>
                        フォローを外しても問題ありませんが、フォローしておいたほうがメンテナンスの時間や更新されたことがわかって便利だと思います。
                    </p>
                </div>
                <hr>
                <div class="question">
                    <p>
                        えっちなゲームのことを話してもいいですか？
                    </p>
                </div>
                <div class="answer">
                    <p>
                        えっちなゲームはeSportsなのでOKです。
                    </p>
                    <p>
                        えっちな（露出の激しい・R-15/R-18）絵や性的な文を投稿する際にはCW（コンテンツワーニング）や閲覧注意タグをつけるのを忘れないでください。最悪の場合サイレンス対象になります。
                    </p>
                </div>
                <hr>
                <div class="question">
                    <p>
                        人来るんですか？人いるんですか？
                    </p>
                </div>
                <div class="answer">
                    <p>
                        きてね。
                    </p>
                </div>
                <hr>
                <div class="question">
                    <p>
                        禁止していることはありますか？
                    </p>
                </div>
                <div class="answer">
                    <h3>Do! やってほしいこと</h3>
                    <ul>
                        <li>
                            ユーザー間で楽しくコミュニケーション
                        </li>
                    </ul>

                    <h3>Don't! やってはいけないこと</h3>
                    <ul>
                        <li>
                            短時間に大量のフォロー・お気に入り・ブースト・返信
                            <br>サーバーに負荷がかかるのでご遠慮ください
                        </li>
                        <li>
                            日本法に反する行為や唆す内容の投稿
                            <br>警察や裁判所の要請があった場合はログを開示します。

                        </li>
                        <li>
                            他人へARENAへのCALLを強要
                        </li>
                    </ul>
                    <p>大事なことは
                        <em style="font-size: 1.5em;">🤝みんななかよく👏</em>
                    </p>
                </div>
                <hr>
                <div class="question">
                    <p>
                        迷惑行為を受けたらどうすればいい？
                    </p>
                </div>
                <div class="answer">
                    <p>
                        アカウントの通報からご連絡ください。
                    </p>
                </div>
                <hr>
                <div class="question">
                    <p>
                        Botアカウントを作ってもいいですか？
                    </p>
                </div>
                <div class="answer">
                    <p>
                        OKです。ただし、下記のBotアカウントルールに従ってください。
                    </p>
                    <h3>Botアカウントルール</h3>
                    <ul>
                        <li>
                            プロフィールへBotバッジをつけること
                        </li>
                        <li>
                            Public（公開）トゥートをしないこと
                            <br> Botのトゥートでローカルタイムラインが埋まってしまいます。Unlisted（未収載）やPrivate（フォロワー限定）、Direct（ダイレクト）を使用してください。
                        </li>
                        <li>
                            フォロワー以外へ能動的にフォロー・お気に入り・ブースト・返信をしないこと
                            <br> Botへの返信に対しての反応ならOKです。
                        </li>
                    </ul>
                    <p>あなたのBotをお待ちしています。</p>
                </div>
                <hr>
                <div class="question">
                    <p>
                        ソースコードは公開されていますか？
                    </p>
                </div>
                <div class="answer">
                    <p>
                        <a href="https://github.com/PCGamer-Social">GitHubのPCGamer Social Organization</a>上ですべて公開しています。
                    </p>
                </div>
                <hr>
                <div class="question">
                    <p>
                        （このインスタンスから / このインスタンスへ） リモートフォローしてもいいですか？
                    </p>
                </div>
                <div class="answer">
                    <p>
                        もちろん、OKです。
                    </p>
                </div>
                <hr>
                <div class="question">
                    <p>
                        Is allowed to Join who can't speak Japanese?
                    </p>
                </div>
                <div class="answer">
                    <p>
                        Of course! Enjoy interaction!
                    </p>
                </div>
                <!-- <hr>
                <div class="question">
                    <p>
                    </p>
                </div>
                <div class="answer">
                    <p>
                    </p>
                </div> -->
            </div>

            <p>その他何でも質問は
                <a href="https://pcgamer.social/@Eai">pcgamer.social/@Eai</a>（もしくは<a href="https://twitter.com/eai04191">twitter.com/eai04191</a>）までお気軽に。
            </p>

            <h2>サーバースペック</h2>

            <div class="row landing-page__call-to-action" style="position: relative;">
                <div class="row">
                    <div class="row__information-board">
                        <div class="information-board__section">
                            <span>OS</span>
                            <strong>Ubuntu 18.04</strong>
                            <span>LTS</span>
                        </div>
                        <div class="information-board__section">
                            <span>vCPU</span>
                            <strong>2</strong>
                            <span>Cores</span>
                        </div>
                        <div class="information-board__section">
                            <span>RAM</span>
                            <strong>4</strong>
                            <span>GB</span>
                        </div>
                        <div class="information-board__section">
                            <span>Location</span>
                            <strong>Tokyo</strong>
                            <span>Japan</span>
                        </div>
                    </div>
                    <div class="row__mascot">
                        <div class="landing-page__mascot" style="position: absolute; left: 1rem;">
                            <a href="https://www.linode.com/?r=67f2c1a402a83cc4f1bbb918423329f315627d2d" target="_blank">
                                <img src="https://i.imgur.com/NsQLS0H.png" style="height: 100%;">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <p>
                <a href="https://www.linode.com/?r=67f2c1a402a83cc4f1bbb918423329f315627d2d" target="_blank">Linode VPS</a>を利用しています。</a>
            </p>

            <h3>オブジェクトストレージ</h3>

            <p>投稿された画像や動画などのメディアは
                <a href="https://wasabi.com/">Wasabi</a>でホストしています。
            </p>

            <hr class="spacer">

            <h2>寄付</h2>

            <!--<p>現在寄付は受け付けていません。</p>-->
            <p>PCGamer Socialを提供するために、サーバーやドメイン、CDN代に約3万円/年と保守管理に多大な時間をかけています。</p>
            <p>このインスタンスが価値のあるものだと思っていただけた際は、ぜひ寄付をご検討いただければ幸いです。</p>

            <ul>
                <li>
                    <a href="https://amzn.to/2nHOsDT" target="_blank">Amazonギフト券</a> - eai@mizle.net まで
                </li>
                <li>
                    Kyashで送金 - eai04191 まで
                </li>
                <li>
                    <a href="https://www.pixiv.net/fanbox/creator/4720095" target="_blank">pixivFANBOX</a> 継続して支援してくださる珍しい方がいればコチラに……
                </li>
                <!-- <li>
                    <a href="https://store.steampowered.com/wishlist/id/eai04191/" target="_blank">Steamウィッシュリスト</a>
                </li> -->
            </ul>